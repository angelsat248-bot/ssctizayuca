<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Evaluaciones de Control - Sistema de Gestión Policial</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/evaluaciones-control.css">
</head>
<body>
    <div class="dashboard">
        <!-- Encabezado -->
        <header class="header">
            <div class="logo">
                <img src="img/logo1.jpg" alt="Logo SSCTIZAYUCA">
                <h1>Evaluaciones de Control</h1>
            </div>
            <nav class="user-menu">
                <span class="user-name">Usuario</span>
                <div class="user-avatar">
                    <i class="fas fa-user"></i>
                </div>
            </nav>
        </header>

        <!-- Contenido principal -->
        <main class="main-content">
            <!-- Barra de navegación de pestañas -->
            <nav class="tabs">
                <ul>
                    <li><a href="index.html"><i class="fas fa-home"></i> Inicio</a></li>
                    <li><a href="evaluaciones-control.html" class="active"><i class="fas fa-clipboard-check"></i> Evaluaciones de Control</a></li>
                    <!-- Agregar más pestañas según sea necesario -->
                </ul>
            </nav>

            <!-- Contenedor del formulario -->
            <div class="form-container">
                <h2><i class="fas fa-search"></i> Búsqueda de Personal</h2>
                
                <!-- Formulario de búsqueda -->
                <div class="search-container">
                    <form id="search-form" class="search-form">
                        <div class="search-input-group">
                            <input type="text" id="search-query" placeholder="Buscar por nombre o apellidos..." required>
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-search"></i> Buscar
                            </button>
                        </div>
                    </form>
                </div>

                <!-- Resultados de búsqueda -->
                <div id="search-results" class="search-results" style="display: none;">
                    <h3>Resultados de la búsqueda</h3>
                    <div class="table-responsive">
                        <table class="results-table">
                            <thead>
                                <tr>
                                    <th>Foto</th>
                                    <th>Nombres</th>
                                    <th>Apellidos</th>
                                    <th>Grado/Cargo</th>
                                    <th>Acciones</th>
                                </tr>
                            </thead>
                            <tbody id="results-body">
                                <!-- Los resultados se cargarán aquí dinámicamente -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Formulario de Evaluación de Control -->
                <div id="evaluacion-form-container" style="display: none;">
                    <h2><i class="fas fa-clipboard-check"></i> Registro de Evaluación de Control</h2>
                    
                    <div class="form-section">
                        <h3>Datos del Policia</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="personal-nombre">Nombre completo:</label>
                                <input type="text" id="personal-nombre" class="form-control" readonly>
                            </div>
                            <div class="form-group">
                                <label for="personal-grado">Grado/Cargo:</label>
                                <input type="text" id="personal-grado" class="form-control" readonly>
                            </div>
                            <div class="form-group">
                                <label for="personal-cuip">CUIP:</label>
                                <input type="text" id="personal-cuip" class="form-control" maxlength="16" 
                                       placeholder="Ej: 18MXHGO00012543" required>
                                <small class="form-text text-muted">Formato: AAMMPPPPNNNNNNNN (Año, Municipio, Número consecutivo)</small>
                                <div id="cuip-validation" class="validation-message"></div>
                            </div>
                        </div>
                    </div>

                    <div class="form-section">
                        <h3>Datos de la Evaluación</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="tipo-evaluacion">Tipo de Evaluación:</label>
                                <select id="tipo-evaluacion" class="form-control" disabled>
                                    <option value="">Seleccione un tipo</option>
                                    <option value="control_confianza">Control de Confianza</option>
                                    <option value="evaluacion_psicologica">Evaluación Psicológica</option>
                                    <option value="examen_medico">Examen Médico</option>
                                    <option value="evaluacion_teorica">Evaluación Teórica</option>
                                    <option value="evaluacion_practica">Evaluación Práctica</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="fecha-evaluacion">Fecha de Evaluación:</label>
                                <input type="date" id="fecha-evaluacion" class="form-control" disabled>
                            </div>
                            <div class="form-group">
                                <label for="resultado">Resultado:</label>
                                <select id="resultado" class="form-control" disabled>
                                    <option value="">Seleccione un resultado</option>
                                    <option value="aprobado">Aprobado</option>
                                    <option value="reprobado">Reprobado</option>
                                    <option value="pendiente">Pendiente</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="vigencia">Vigencia:</label>
                                <input type="date" id="vigencia" class="form-control" disabled>
                                <div id="vigencia-validation" class="validation-message"></div>
                            </div>
                            <div class="form-group file-upload">
                                <label for="archivo-pdf">Documento PDF:</label>
                                <div class="file-upload-wrapper">
                                    <input type="file" id="archivo-pdf" class="form-control" accept=".pdf" disabled>
                                    <label for="archivo-pdf" class="file-upload-label">
                                        <i class="fas fa-file-pdf"></i> Seleccionar archivo
                                    </label>
                                    <span id="file-name" class="file-name">No se ha seleccionado ningún archivo</span>
                                </div>
                                <small class="form-text text-muted">Tamaño máximo: 5MB. Solo archivos PDF.</small>
                            </div>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="button" id="btn-agregar" class="btn btn-primary" disabled>
                            <i class="fas fa-plus"></i> Agregar Evaluación
                        </button>
                        <button type="button" id="btn-limpiar" class="btn btn-secondary">
                            <i class="fas fa-undo"></i> Limpiar
                        </button>
                    </div>

                    <!-- Lista de evaluaciones registradas -->
                    <div id="evaluaciones-registradas" class="evaluaciones-lista">
                        <h3>Evaluaciones Registradas</h3>
                        <div class="table-responsive">
                            <table class="results-table">
                                <thead>
                                    <tr>
                                        <th>Tipo</th>
                                        <th>Fecha Evaluación</th>
                                        <th>Resultado</th>
                                        <th>Vigencia</th>
                                        <th>Documento</th>
                                        <th>Acciones</th>
                                    </tr>
                                </thead>
                                <tbody id="evaluaciones-body">
                                    <!-- Las evaluaciones se cargarán aquí dinámicamente -->
                                    <tr>
                                        <td colspan="6" class="no-records">No hay evaluaciones registradas</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Notificaciones -->
    <div id="notification" class="notification"></div>

    <!-- Scripts -->
    <script src="js/config.js"></script>
    <script src="js/evaluaciones-control.js" type="module"></script>
</body>
</html>
